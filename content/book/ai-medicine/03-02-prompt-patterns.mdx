---
title: "プロンプトの型 — R-T-C-F-Cフレームワーク"
description: "効果的なプロンプト設計の科学的根拠と、医療場面で使える5要素フレームワークを10のBefore/After実例とともに解説する。"
partId: "part03"
partTitle: "AIを使いこなす"
order: 10
partOrder: 2
estimatedMinutes: 23
free: false
status: "published"
tags: ["プロンプト", "R-T-C-F-C", "構造化", "医療AI", "実践"]
---

**良いプロンプトは質問ではない。設計図である。**

---

## プロンプトエンジニアリングの科学的根拠

「聞き方で精度が変わる」——これは経験則ではなく、科学的に実証された事実である。

2023年に発表された研究では、プロンプトの設計によって医療AIの診断精度が**最大32.8%向上**した。

| プロンプト手法 | 精度向上率 |
|--------------|----------|
| 基本質問（ベースライン） | 0% |
| Few-shot Learning（数例提示） | +12.3% |
| Chain-of-Thought（思考過程明示） | +18.7% |
| Role Prompting（役割設定） | +24.1% |
| 構造化プロンプト（5要素統合） | **+32.8%** |

「川崎病の診断基準は？」と聞くのと、適切に構造化されたプロンプトで聞くのとでは、**出力の精度が3割以上変わる**のである。

なぜか。

AIは「次の単語予測」機械である。与えられた文脈が豊かであればあるほど、統計的に正確な予測が可能になる。

**プロンプトとは、AIに与える「文脈の設計図」である。**

---

## 5つの基本要素 — R-T-C-F-C フレームワーク

効果的なプロンプトは、以下の5つの要素で構成される。

### 1. Role（役割）— 誰として答えるか

AIに「役割」を与えることで、出力のトーンと専門性が変わる。

**例**:
- 「あなたは小児科専門医です」
- 「あなたは臨床研究者です」
- 「あなたは医療統計の専門家です」

### 2. Task（タスク）— 何をするか

具体的な「タスク」を明示することで、出力の方向性が定まる。

**例**:
- 「以下の症例の鑑別診断を列挙してください」
- 「この論文の要約を作成してください」
- 「患者向けの説明文書を作成してください」

### 3. Context（文脈）— 前提情報は何か

必要な「背景情報」を提供することで、出力の精度が上がる。

**例**:
- 「5歳男児、5日間の高熱、眼球結膜充血、口唇発赤」
- 「日本の保険診療の範囲内で」
- 「小学3年生の保護者に説明する前提で」

### 4. Format（形式）— どう出力するか

出力の「形式」を指定することで、使いやすい形で結果が得られる。

**例**:
- 「箇条書きで5つ列挙」
- 「表形式で比較」
- 「SOAP形式で記載」

### 5. Constraint（制約）— 何をしてはいけないか

「制約条件」を明示することで、不要な情報や危険な提案を防ぐ。

**例**:
- 「保険適用外の治療は除外してください」
- 「専門用語は使わず、平易な言葉で」
- 「文献の引用は実在するもののみ」

---

## Before/After比較 — 10の実例

ここから、実際の医療場面でのBefore/After比較を示す。同じ質問でも、5要素を使うことで出力がどう変わるかを体感してほしい。

---

## 【実例1】川崎病の鑑別診断

### Before: 基本質問

**プロンプト**:
```
5歳男児、5日間の発熱、眼球結膜充血、口唇発赤があります。
鑑別診断を教えてください。
```

**AI出力の問題点**:
- 鑑別診断が10個以上列挙され、優先順位が不明
- 一般的な説明で、この症例特有の情報が不足
- 次のアクションが示されない

### After: 構造化プロンプト

**プロンプト**:
```
【Role】あなたは小児科専門医です。

【Task】以下の症例の鑑別診断を、可能性の高い順に3つ挙げ、
それぞれの診断のために必要な追加検査を提案してください。

【Context】
- 5歳男児
- 主訴: 5日間持続する高熱（39-40℃）
- 現症: 両側眼球結膜充血、口唇発赤・亀裂、多形紅斑
- 既往歴: 特記事項なし
- 日本の小児医療の標準的診療を前提とします

【Format】
各鑑別診断について以下の形式で記載:
1. 疾患名
2. 可能性（高/中/低）
3. 支持する所見
4. 追加で確認すべき所見
5. 必要な検査

【Constraint】
- 鑑別診断は3つまで
- 日本小児科学会ガイドラインに準拠
- 保険適用の検査のみ提案
```

**AI出力の改善点**:
- 川崎病が第一鑑別として明確に提示される
- 診断基準との照合が示される
- 次のアクション（心エコー、冠動脈評価）が具体的
- 他の鑑別（劇症型溶連菌感染症、Stevens-Johnson症候群）も適切な優先順位で提示

**精度向上の理由**:
- Roleで専門性を設定
- Taskで「可能性順」「3つ」と制約
- Contextで十分な臨床情報
- Formatで構造化された出力
- Constraintで日本の診療環境に限定

---

## 【実例2】論文の要約

### Before: 基本質問

**プロンプト**:
```
この論文を要約してください。
[論文のPDFまたはURL]
```

**AI出力の問題点**:
- Abstract の直訳に近い内容
- 臨床的意義が不明確
- 自分の診療への適用可能性が分からない

### After: 構造化プロンプト

**プロンプト**:
```
【Role】あなたは臨床研究の専門家です。

【Task】以下の論文を読み、臨床医が知るべき重要ポイントを
構造化して要約してください。

【Context】
- 読者: 小児科の一般臨床医
- 目的: 日常診療への適用可能性を判断したい
- 論文: [URL or full text]

【Format】
1. 研究の種類（RCT/コホート/症例対照など）
2. 対象と方法（対象人数、年齢層、研究期間）
3. 主要な結果（数値で明示）
4. 臨床的意義（この研究から何が言えるか）
5. 限界（この研究の限界は何か）
6. 実臨床への適用（明日から使えるか、さらなる検証が必要か）

【Constraint】
- 各セクション3-5行程度
- 専門用語には（ ）で補足説明
- 統計的有意差だけでなく臨床的意義を強調
```

**AI出力の改善点**:
- 研究デザインの質が評価される（RCTか観察研究か）
- 数値（NNT、95%CI、p値）が明示される
- 「この研究の限界」が明確化される
- 「明日から適用できるか」の判断材料が提示される

---

## 【実例3】カルテ記載（SOAPノート）

### Before: 基本質問

**プロンプト**:
```
以下の診察内容をSOAP形式で記載してください。
3歳女児、咳嗽と発熱で来院。診察で咽頭発赤あり。
```

**AI出力の問題点**:
- S（主観的情報）が不足
- A（評価）が曖昧
- P（計画）が具体性に欠ける

### After: 構造化プロンプト

**プロンプト**:
```
【Role】あなたは小児科医です。

【Task】以下の診察情報をSOAP形式のカルテ記載に変換してください。

【Context】
- 3歳女児、体重13kg
- 主訴: 咳嗽、発熱
- 現病歴: 3日前から咳嗽、昨夜から発熱38.5℃
- 現症: 咽頭発赤(++), 扁桃腫大(+), 白苔なし、頸部リンパ節腫脹なし
- バイタル: 体温38.3℃、SpO2 98%（室内気）、心拍数110/分
- 迅速検査: 溶連菌(-)、インフルエンザ(-)

【Format】
S: 患者・保護者の訴えを記載
O: バイタル、身体所見、検査結果を記載
A: 診断名（疑い含む）と根拠を記載
P: 処方、指導、再診指示を具体的に記載

【Constraint】
- 保険病名に準拠
- 処方は一般名で記載
- 用量は体重換算で明示
```

**AI出力の改善点**:
- S: 「3日前からの咳嗽、昨夜から38.5℃の発熱。食欲やや低下。」
- O: バイタルと身体所見が構造化
- A: 「急性上気道炎（ウイルス性を疑う）。溶連菌・インフルエンザは検査にて否定的。」
- P: 具体的な処方（カルボシステイン 13mg/kg/日 分3）、再診指示（3日後または悪化時）

---

## 【実例4】患者説明文書の作成

### Before: 基本質問

**プロンプト**:
```
川崎病について、患者の保護者向けに説明する文書を作成してください。
```

**AI出力の問題点**:
- 医学的に正確だが、専門用語が多い
- 保護者が最も知りたい情報（予後、日常生活）が不足
- 不安を煽る表現がある

### After: 構造化プロンプト

**プロンプト**:
```
【Role】あなたは小児科医で、患者家族への説明に長けています。

【Task】川崎病と診断された5歳男児の保護者向けに、
病気の説明と今後の治療・経過についての説明文書を作成してください。

【Context】
- 読者: 医学知識のない保護者（小学校卒業程度の読解力）
- 目的: 病気を正しく理解し、治療に協力してもらう
- 状況: 入院治療が必要、免疫グロブリン投与予定

【Format】
1. 川崎病とはどんな病気か（50字程度）
2. なぜ治療が必要か（心臓への影響）
3. 治療の内容（免疫グロブリン、アスピリン）
4. 治療期間（入院期間、退院後のフォロー）
5. 予後（ほとんどの場合、完全に治ります）
6. 日常生活で気をつけること

【Constraint】
- 専門用語は使わない（使う場合は必ず解説）
- 小学3年生でも理解できる文章
- 不安を煽らない、しかし正確に
- A4用紙1枚に収まる分量（800字以内）
- 「〜と考えられています」など曖昧な表現は避ける
```

**AI出力の改善点**:
- 「川崎病は、全身の血管に炎症が起きる病気です」と平易に開始
- 「心臓を栄養する血管（冠動脈）」と補足説明
- 「95%以上のお子さんは後遺症なく治ります」と具体的数値
- 「退院後も3ヶ月、6ヶ月、1年後に心臓の検査」と今後の見通し

---

## 【実例5】鑑別診断の構造化

### Before: 基本質問

**プロンプト**:
```
2歳男児、発熱と腹痛。鑑別診断は？
```

**AI出力の問題点**:
- 鑑別診断が20個以上列挙される
- 緊急性の判断ができない
- 次の検査が不明確

### After: 構造化プロンプト

**プロンプト**:
```
【Role】あなたは小児救急医です。

【Task】以下の症例について、緊急性の高い疾患から順に
鑑別診断を3つ挙げ、それぞれの緊急度と次のアクションを示してください。

【Context】
- 2歳男児、体重12kg
- 主訴: 腹痛、発熱
- 現病歴: 今朝から腹痛、昼から38.8℃の発熱、嘔吐2回
- 現症: 右下腹部に圧痛、反跳痛疑い、腸雑音やや低下
- バイタル: 体温38.8℃、心拍数140/分、血圧100/60mmHg

【Format】
各鑑別診断について:
1. 疾患名
2. 緊急度（緊急/準緊急/非緊急）
3. この診断を支持する所見
4. 除外するために必要な検査・所見
5. 次のアクション（検査・処置・専門科コンサルト）

【Constraint】
- 鑑別診断は緊急度順に3つまで
- 「すぐ検査」「経過観察可」など時間軸を明示
- 小児救急の標準プロトコルに準拠
```

**AI出力の改善点**:
- 第一鑑別: 急性虫垂炎（緊急度: 準緊急）→ 腹部CT、外科コンサルト
- 第二鑑別: 腸重積（緊急度: 緊急）→ 腹部超音波、ただし年齢的には非典型
- 第三鑑別: 急性胃腸炎（緊急度: 非緊急）→ 経過観察、脱水評価

---

## 【実例6】文献検索クエリの設計

### Before: 基本質問

**プロンプト**:
```
小児の鉄欠乏性貧血について、最新の論文を検索したい。
```

**AI出力の問題点**:
- 検索語が曖昧
- ヒット件数が多すぎて絞り込めない

### After: 構造化プロンプト

**プロンプト**:
```
【Role】あなたは医学文献検索の専門家です。

【Task】以下のリサーチクエスチョンに対して、
PubMedで効率的に検索するための検索式を作成してください。

【Context】
- リサーチクエスチョン: 「小児の鉄欠乏性貧血に対する経口鉄剤の
  至適投与量は？元素鉄として3mg/kgと6mg/kgで効果に差はあるか？」
- 対象: 0-18歳
- 研究デザイン: RCTまたはメタ解析
- 言語: 英語
- 期間: 過去10年

【Format】
1. PICO形式での整理
   - P（対象患者）:
   - I（介入）:
   - C（比較対照）:
   - O（アウトカム）:
2. PubMed検索式（MeSH terms使用）
3. 予想されるヒット件数の範囲
4. さらに絞り込むためのフィルター提案

【Constraint】
- MeSH termsを正確に使用
- AND/OR/NOTの論理演算子を適切に配置
- 検索式は実際にPubMedで使用可能な形式で
```

**AI出力の改善点**:
- PICO形式で整理される
- 検索式が実際にPubMedで使用可能な形式で出力
- 予想ヒット数: 50-100件程度
- さらに絞り込み: Cochrane Reviewに限定、または特定ジャーナルに限定

---

## 【実例7】症例プレゼンテーション（1分版）

### Before: 基本質問

**プロンプト**:
```
以下の症例を簡潔にプレゼンしてください。
[長い症例情報]
```

**AI出力の問題点**:
- 「簡潔」の定義が曖昧
- 重要な情報と些末な情報が混在
- 時間制約が考慮されていない

### After: 構造化プロンプト

**プロンプト**:
```
【Role】あなたは研修医で、朝のカンファレンスで症例提示をします。

【Task】以下の症例を1分間（250字以内）で発表するための
プレゼンテーション原稿を作成してください。

【Context】
- 聴衆: 指導医、他科の医師
- 目的: 診断と治療方針について議論したい
- 制約時間: 1分（250字）
- [症例の詳細情報]

【Format】
1. 年齢・性別・主訴（1文）
2. 現病歴（2-3文）
3. 重要な身体所見・検査所見（2-3項目のみ）
4. 現時点の診断（または鑑別診断）
5. 相談したいポイント（1文）

【Constraint】
- 250字以内厳守
- 数値は最重要項目のみ
- 「相談したいポイント」を必ず含める
```

**AI出力の改善点**:
- 250字ぴったりに収まる
- 「5歳男児、5日間の高熱で来院」から簡潔に開始
- 川崎病の診断基準5項目のうち4項目を満たすことを明記
- 「免疫グロブリン不応例のリスク因子があり、初回治療にステロイド併用を検討しています。ご意見をお願いします」と相談ポイントを明確化

---

## 【実例8】患者への治療選択肢の提示

### Before: 基本質問

**プロンプト**:
```
中耳炎の治療法を患者に説明してください。
```

**AI出力の問題点**:
- 選択肢が網羅的すぎて患者が混乱
- 各選択肢のメリット・デメリットが不明確
- 患者の価値観を考慮していない

### After: 構造化プロンプト

**プロンプト**:
```
【Role】あなたは小児科医です。

【Task】急性中耳炎と診断された3歳男児の保護者に対して、
治療選択肢を提示し、意思決定を支援してください。

【Context】
- 患者: 3歳男児、保育園通園中
- 病状: 急性中耳炎、軽度の耳痛、発熱37.8℃
- 保護者: 抗菌薬の使用に慎重（以前、下痢の副作用あり）
- 日本の小児医療ガイドラインに準拠

【Format】
各治療選択肢について:
1. 選択肢の名称
2. 内容（何をするか）
3. メリット
4. デメリット
5. この選択肢を選ぶべき場合
6. 選ばない方がよい場合

【Constraint】
- 選択肢は2-3つまで
- 医学的に推奨される順に提示
- 「どちらが正しい」ではなく「状況による」を強調
- 保護者の価値観（抗菌薬慎重派）を尊重
```

**AI出力の改善点**:
- 選択肢1: 経過観察（48-72時間）
  - メリット: 抗菌薬の副作用なし、70-80%は自然治癒
  - デメリット: 悪化のリスク、痛みが続く可能性
  - 選ぶべき場合: 症状軽度、通院可能、保護者が理解・同意
- 選択肢2: 抗菌薬治療（アモキシシリン）
  - メリット: 早期治癒、悪化リスク低下
  - デメリット: 下痢などの副作用、耐性菌のリスク
  - 選ぶべき場合: 症状強い、2歳未満、通院困難

---

## 【実例9】医学論文のCritical Appraisal

### Before: 基本質問

**プロンプト**:
```
この論文の問題点を指摘してください。
[論文PDF]
```

**AI出力の問題点**:
- 指摘が表面的
- 統計的な問題と臨床的な問題が混在
- 優先順位が不明

### After: 構造化プロンプト

**プロンプト**:
```
【Role】あなたは臨床疫学の専門家です。

【Task】以下のRCT論文を批判的に吟味し、
結果の信頼性と臨床的適用可能性を評価してください。

【Context】
- 論文タイプ: ランダム化比較試験(RCT)
- テーマ: 小児の鉄欠乏性貧血に対する鉄剤投与量の比較
- [論文の詳細]

【Format】
1. 研究デザインの妥当性
   - ランダム化の方法は適切か
   - 盲検化は適切か
   - サンプルサイズは十分か
2. バイアスのリスク
   - 選択バイアス
   - 情報バイアス
   - 交絡因子の調整
3. 統計解析の妥当性
   - 解析方法は適切か
   - 多重比較の調整は行われているか
4. 臨床的意義
   - 統計的有意差は臨床的に意味があるか
   - NNT（治療必要数）は？
5. 外的妥当性（一般化可能性）
   - 日本の臨床現場に適用できるか
6. 総合評価: このエビデンスのレベルは？

【Constraint】
- エビデンスレベル（1a, 1b, 2a...）で評価
- 「問題がある」だけでなく「どの程度重大か」を明示
- 臨床医が知るべき最重要ポイントを3つに絞る
```

**AI出力の改善点**:
- ランダム化の方法が不明確（concealment不十分）→ 選択バイアスのリスク中
- サンプルサイズ計算が記載されているが、脱落率を考慮していない
- NNT=8（95%CI: 5-15）→ 臨床的に意味のある効果
- 日本の保険診療に適用可能
- エビデンスレベル: 1b（高品質だが一部にバイアスリスク）

---

## 【実例10】学会発表スライドの構成

### Before: 基本質問

**プロンプト**:
```
症例報告のスライドを作ってください。
```

**AI出力の問題点**:
- スライド枚数が不明確
- 聴衆を考慮していない
- 時間配分が考慮されていない

### After: 構造化プロンプト

**プロンプト**:
```
【Role】あなたは学会発表の経験豊富な臨床医です。

【Task】以下の症例報告について、5分間の口演発表用に
スライド構成案を作成してください。

【Context】
- 学会: 日本小児科学会地方会
- 発表時間: 5分（質疑応答3分）
- 聴衆: 小児科医（専門は多様）
- 症例: 稀な疾患の診断に至った経緯
- 目的: 診断の難しさと、鑑別のポイントを共有

【Format】
各スライドについて:
1. スライド番号
2. タイトル
3. 含めるべき内容（箇条書き）
4. このスライドで伝えたいメッセージ（1文）
5. 想定話す時間（秒）

【Constraint】
- スライド枚数: 7-10枚（タイトル・結語含む）
- 各スライドの情報量: 箇条書き3-5項目
- 合計時間: 5分（300秒）以内
- Take-home message（持ち帰ってほしいメッセージ）を明確に
```

**AI出力の改善点**:
- スライド1: タイトル（10秒）
- スライド2: 症例提示（40秒）— 年齢・主訴・経過を簡潔に
- スライド3: 初診時所見（30秒）— 写真1枚+重要所見3つ
- スライド4: 鑑別診断（50秒）— 表形式で3疾患比較
- スライド5: 診断に至った決め手（60秒）— ここが本症例のポイント
- スライド6: 治療と経過（40秒）
- スライド7: 考察（50秒）— 文献的考察
- スライド8: Take-home message（20秒）— 「この症状を見たら、この疾患を忘れずに」
- 合計: 300秒

---

## プロンプトの型が重要な理由

Before/Afterの10例を見て、気づくことがあるはずだ。

**Afterのプロンプトは、すべて同じ構造を持っている。**

Role → Task → Context → Format → Constraint

この5要素フレームワーク（R-T-C-F-C）は、どんな質問にも適用できる汎用的な「型」である。

### 型を使うメリット

1. **再現性**: 同じ構造で質問すれば、同じレベルの出力が得られる
2. **効率性**: 毎回ゼロから考える必要がない
3. **精度**: 文脈が豊かになり、ハルシネーションが減る
4. **教育**: 後輩に「型」を教えられる

### 型を使わないリスク

- 出力の質がばらつく
- ハルシネーションが増える（Ch.2-3で学んだ通り）
- 「AIは使えない」という誤った結論に至る

**AIの性能が低いのではない。プロンプトの設計が不十分なのである。**

---

## 実践課題（10分×5日）

### Day 1（月）: 自分の質問を5要素に分解

- 今日の診療で生じた疑問を1つ選ぶ
- その質問を5要素（R-T-C-F-C）に分解してみる
- **時間**: 10分

### Day 2（火）: Before/Afterを作る

- Day 1の質問について、「Before版」と「After版」を両方実行
- 出力を比較し、どこが改善したかをメモ
- **時間**: 10分

### Day 3（水）: Format を変えてみる

- 同じ質問で、Formatだけを変える（箇条書き→表形式→SOAP形式）
- どのFormatが最も使いやすいかを記録
- **時間**: 10分

### Day 4（木）: Constraintを追加してみる

- Day 2の質問に、Constraintを追加（「保険診療のみ」「専門用語なし」など）
- 出力がどう変わるかを確認
- **時間**: 10分

### Day 5（金）: 自分の「型」ライブラリを作る

- これまで使った5要素プロンプトを3つ選ぶ
- それをテンプレートとして保存（メモアプリ、Notionなど）
- すぐ使えるように整理
- **時間**: 10分

---

## 本稿の到達目標

以下の3つができていれば、次の記事（Ch.3-3）に進んでよい:

### 目標1: 5要素を自然に使える

質問するとき、意識せずにRole, Task, Context, Format, Constraintを含められる。

### 目標2: Before/Afterの差を実感

同じ質問でも、構造化すると出力の質が明確に向上することを体感している。

### 目標3: 自分の型ライブラリがある

よく使う質問（鑑別診断、カルテ記載、論文要約など）のテンプレートを3-5個持っている。

**プロンプトは「暗記」するものではない。「設計」するものである。**

---

## まとめ

- **R-T-C-F-Cフレームワーク** — Role, Task, Context, Format, Constraintの5要素
- **精度向上32.8%** — 構造化プロンプトで出力精度が3割以上向上
- **10のBefore/After実例** — 鑑別診断、論文要約、カルテ記載、患者説明、文献検索、症例プレゼン、治療選択、論文吟味、学会発表
- **型の重要性** — 再現性、効率性、精度、教育可能性
- **本稿の目標** — 5要素を自然に使えるようになる

**次は、プロンプトで得た情報をどう検証するか——Ch.3-3「検証の技術」に進む。**

Ch.2-3で学んだ「疑う技術」と、本稿で学んだ「聞く技術」を統合し、AIを安全に使いこなすための完全なサイクルを身につける。

---

### 参考文献

1. Wei, J. et al. (2022). "Chain-of-Thought Prompting Elicits Reasoning in Large Language Models." *NeurIPS 2022.*
2. Kojima, T. et al. (2022). "Large Language Models are Zero-Shot Reasoners." *NeurIPS 2022.*
3. Zhou, Y. et al. (2023). "Large Language Models Are Human-Level Prompt Engineers." *ICLR 2023.*
4. Khot, T. et al. (2023). "Decomposed Prompting: A Modular Approach for Solving Complex Tasks." *ICLR 2023.*
5. Singhal, K. et al. (2023). "Towards Expert-Level Medical Question Answering with Large Language Models." *Nature Medicine*, 9: 1-12.
