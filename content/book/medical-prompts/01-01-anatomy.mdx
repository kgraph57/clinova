---
title: "医療プロンプトの解剖学（Role-Task-Context-Format-Constraint）"
description: "効果的な医療プロンプトを構成する5つの要素を解剖学的に分解し、各要素の設計原則と実践テンプレートを解説します。"
slug: "01-01-anatomy"
order: 1
partId: "part01"
partTitle: "プロンプト設計の基本原則"
partOrder: 1
estimatedMinutes: 20
free: true
status: "published"
tags: ["プロンプト設計", "RTCFC", "基本原則", "テンプレート"]
publishedAt: "2026-03-01"
updatedAt: "2026-03-01"
---

## プロンプトを「解剖」する

人体に解剖学があるように、優れた医療プロンプトにも明確な構造があります。本章では、医療プロンプトを5つの構成要素に分解し、それぞれの役割と設計のコツを解説します。

この5要素を「RTCFC フレームワーク」と呼びます。

- **R** -- Role（役割）
- **T** -- Task（タスク）
- **C** -- Context（文脈）
- **F** -- Format（形式）
- **C** -- Constraint（制約）

## 1. Role（役割）-- AIに専門家の帽子をかぶせる

Role の指定は、AIの回答の専門性と深さを決定します。「あなたは医師です」と「あなたは腎臓内科の専門医で、CKDステージ分類に精通しています」では、回答の質が大きく異なります。

### Role 設計の原則

- **専門領域を具体的に**: 「内科医」より「循環器内科専門医」
- **経験レベルを指定**: 「10年の臨床経験を持つ」
- **特定のスキルを明示**: 「心エコー読影に精通した」
- **複数の役割を組み合わせる**: 「臨床医かつ医学教育者として」

<ComparisonCard beforeLabel="曖昧なRole" afterLabel="具体的なRole">
<ComparisonBefore>

あなたは医師です。この検査結果について教えてください。

</ComparisonBefore>
<ComparisonAfter>

あなたは腎臓内科の専門医（臨床経験15年）で、CKD患者の管理に精通しています。日本腎臓学会のガイドラインに基づいた診療を行っています。以下の検査結果について臨床的意義を解説してください。

</ComparisonAfter>
</ComparisonCard>

<PromptTemplate title="Role設計テンプレート">
あなたは[診療科/専門領域]の専門医です。
[特定の専門性/経験]に精通しており、
[参照するガイドライン/基準]に基づいた臨床判断を行います。

[以下にタスクを記述]
</PromptTemplate>

## 2. Task（タスク）-- 何をしてほしいかを明確に

Task は、AIに求めるアクションを定義します。曖昧なタスク指定は曖昧な回答を生みます。

### Task 設計の原則

- **動詞を明確に**: 「教えてください」より「鑑別診断を優先順位付きで列挙してください」
- **範囲を限定**: 「糖尿病について」より「2型糖尿病のSGLT2阻害薬の心腎保護効果について」
- **成果物を定義**: 「分析してください」より「SOAP形式のカルテ記載を作成してください」

<ComparisonCard beforeLabel="曖昧なTask" afterLabel="明確なTask">
<ComparisonBefore>

この患者さんについて考えてください。

</ComparisonBefore>
<ComparisonAfter>

この患者の主訴・現病歴・検査結果に基づき、以下を行ってください：
1. 鑑別診断を可能性の高い順に5つ列挙
2. 各鑑別を支持する所見と否定する所見を整理
3. 次に行うべき検査を優先順位付きで提案
4. 緊急性の評価（immediate / urgent / routine）

</ComparisonAfter>
</ComparisonCard>

<PromptTemplate title="Task明確化テンプレート">
以下のタスクを実行してください：

【主タスク】
[具体的な動詞 + 成果物の定義]

【サブタスク】
1. [ステップ1の具体的な指示]
2. [ステップ2の具体的な指示]
3. [ステップ3の具体的な指示]

【成果物の要件】
- [成果物に含めるべき要素1]
- [成果物に含めるべき要素2]
</PromptTemplate>

## 3. Context（文脈）-- 臨床情報の構造化

Context は、AIが正確な回答を生成するための材料です。臨床情報の提供方法が回答の質を直接左右します。

### Context 設計の原則

- **構造化して提供**: 自由文より項目別に整理
- **関連情報に絞る**: 全カルテを丸投げしない
- **時系列を明示**: 症状の経過を時間軸で整理
- **正常値との比較**: 検査値は基準値とセットで

<PromptTemplate title="臨床Context構造化テンプレート">
【患者基本情報】
- 年齢/性別: [XX歳] [男性/女性]
- 身長/体重/BMI: [cm] / [kg] / [kg/m²]
- アレルギー: [薬剤アレルギー/食物アレルギー/なし]

【主訴】
[患者の言葉で記載]

【現病歴】
[発症時期] [症状の経過] [増悪/寛解因子] [随伴症状]

【既往歴】
- [疾患名]（[診断年]〜、[治療状況]）

【家族歴】
- [関連する家族歴]

【内服薬】
1. [薬剤名] [用量] [用法]（[開始時期]〜）

【検査結果】
| 項目 | 結果 | 基準値 | 評価 |
|------|------|--------|------|
| [検査項目] | [値] | [基準値] | [H/L/正常] |

【画像所見】
[所見の記述]

【社会歴】
- 喫煙: [状況]
- 飲酒: [状況]
- 職業: [職業]
</PromptTemplate>

## 4. Format（形式）-- 出力の設計

Format は、AIの回答をどのような形式で受け取るかを指定します。適切な形式指定により、回答の使いやすさが大幅に向上します。

### Format 設計の原則

- **用途に合わせる**: カルテ記載ならSOAP形式、カンファレンスなら発表形式
- **表形式を活用**: 比較や一覧には表が有効
- **セクション分けを指定**: 情報の整理と検索性が向上
- **文字数や項目数を指定**: 回答の粒度を制御

<PromptTemplate title="出力形式指定テンプレート（表形式）">
[臨床質問や指示]

【出力形式】
以下の表形式で回答してください：

| 鑑別診断 | 可能性 | 支持所見 | 否定所見 | 次の検査 |
|----------|--------|----------|----------|----------|
| （疾患名）| 高/中/低 | （列挙）| （列挙）| （具体的に）|

表の下に、最も可能性の高い診断について200字以内で臨床推論を記述してください。
</PromptTemplate>

<PromptTemplate title="出力形式指定テンプレート（SOAP形式）">
以下の患者情報から、SOAP形式のカルテ記載を作成してください。

[患者情報]

【出力形式】
S（Subjective）: 患者の主観的情報（主訴、症状の経過）
O（Objective）: 客観的情報（バイタルサイン、身体所見、検査結果）
A（Assessment）: 評価（鑑別診断、問題リスト）
P（Plan）: 計画（検査計画、治療計画、患者教育、フォローアップ）

各セクションは箇条書きで記載し、Assessmentには鑑別診断の優先順位を含めてください。
</PromptTemplate>

## 5. Constraint（制約）-- 安全性の防壁

Constraint は、AIの回答の安全性と正確性を担保するための制約条件です。医療プロンプトでは、この要素が最も重要です。

### Constraint 設計の原則

- **ガイドライン準拠を明示**: 参照すべきガイドラインを指定
- **禁忌事項への配慮**: 「この患者の腎機能を考慮して」
- **不確実性の明示**: 「確信度が低い情報は明記すること」
- **スコープの制限**: 「診断の確定は行わず、鑑別診断の提案にとどめること」
- **免責事項**: 「最終判断は担当医が行う前提で」

<ComparisonCard beforeLabel="制約なしのプロンプト" afterLabel="制約付きのプロンプト">
<ComparisonBefore>

この患者にどの抗菌薬を使えばよいですか？

</ComparisonBefore>
<ComparisonAfter>

この患者に適した抗菌薬を提案してください。

【制約条件】
JAID/JSCガイドライン2019に準拠。患者のeGFR 35を考慮した用量調整を含めること。ペニシリンアレルギーを考慮（代替薬を提案）。各提案薬にエビデンスレベル（A/B/C）を付記。デエスカレーション戦略も含めること。不確実な推奨には「専門医への相談を推奨」と明記。

</ComparisonAfter>
</ComparisonCard>

<PromptTemplate title="医療安全制約テンプレート">
【安全性に関する制約】
1. [参照ガイドライン名]に準拠すること
2. 患者の[特定の状態/併存疾患]を考慮すること
3. [禁忌薬剤/禁忌処置]を除外すること
4. 各推奨にエビデンスレベルを付記すること
5. 確信度が低い情報には「要確認」と明記すること
6. 最終的な臨床判断は担当医が行うことを前提とすること
7. 緊急性がある場合はその旨を冒頭に明記すること
</PromptTemplate>

## RTCFCを組み合わせた完成プロンプト

5つの要素を全て組み合わせた完成形のプロンプトを見てみましょう。

<PromptTemplate title="RTCFC完成プロンプト例：心不全患者の管理">
【Role】
あなたは循環器内科の専門医（臨床経験15年）で、心不全の薬物治療に精通しています。日本循環器学会のガイドラインに基づいた診療を行っています。

【Task】
以下の心不全患者について、現在の治療の最適化案を提案してください。具体的には：
1. 現在の処方の妥当性評価
2. 追加すべき薬剤の提案（優先順位付き）
3. 用量調整の提案
4. 非薬物療法の推奨
5. 3ヶ月間のフォローアップ計画

【Context】
- 68歳男性、NYHA class III
- 基礎疾患: 虚血性心疾患（PCI後）、2型糖尿病、CKDステージ3b
- LVEF: 32%、BNP: 850 pg/mL
- eGFR: 38、K: 4.8 mEq/L
- 現在の処方:
  - エナラプリル 5mg 2x/日
  - ビソプロロール 2.5mg 1x/日
  - フロセミド 40mg 1x/日
- バイタル: BP 118/72, HR 78, SpO2 95%(RA)

【Format】
以下の形式で回答してください：
1. 現在の治療評価（表形式：薬剤 | 用量評価 | コメント）
2. 推奨する変更（優先順位付きリスト）
3. フォローアップスケジュール（タイムライン形式）
4. 患者教育のポイント（箇条書き）

【Constraint】
- 日本循環器学会/日本心不全学会「急性・慢性心不全診療ガイドライン（2021年改訂版）」に準拠
- eGFR 38およびK 4.8を考慮した薬剤選択
- SGLT2阻害薬の心腎保護効果に関する最新エビデンスを考慮
- 各推奨にエビデンスレベルを付記
- 腎機能悪化のリスクを最小化する戦略を含めること
</PromptTemplate>

## RTCFCチェックリスト

プロンプトを送信する前に、以下のチェックリストで確認してください。

<Callout>
RTCFCプロンプト品質チェックリスト：
- [ ] **Role**: 専門領域と経験レベルが具体的に指定されているか
- [ ] **Task**: 動詞が明確で、成果物が定義されているか
- [ ] **Context**: 必要な臨床情報が構造化されて提供されているか
- [ ] **Format**: 出力形式が用途に合わせて指定されているか
- [ ] **Constraint**: 安全性制約とガイドライン準拠が明示されているか
</Callout>

<KeyTakeaway>
RTCFCフレームワークは、医療プロンプトの品質を体系的に担保するための設計原則です。全ての要素を毎回含める必要はありませんが、Constraint（制約）だけは医療プロンプトにおいて省略しないでください。安全性の制約なしに医療AIを使うことは、安全装置なしに手術器具を使うことと同じです。
</KeyTakeaway>
