---
title: "思考の連鎖（Chain of Thought）"
description: "推論過程を段階的に示すことで、複雑な臨床推論や問題解決の精度を向上させる手法"
category: "ai-fundamentals"
contentType: "tip"
difficulty: "intermediate"
tags: ["Chain of Thought", "推論", "臨床推論", "中級テクニック"]
publishedAt: "2026-02-13"
featured: false
---

# 思考の連鎖（Chain of Thought）

## このテクニックとは

Chain of Thought（CoT）プロンプティングは、AIに推論の過程を段階的に示させることで、複雑な問題の解決精度を大幅に向上させる手法です。通常のプロンプトではAIは最終的な答えだけを出力しますが、CoTでは「ステップバイステップで考えてください」と指示することで、中間的な思考過程を明示させます。

2022年にGoogleの研究チームが発表した論文で、この手法が特に算術推論、常識推論、複雑な意思決定において大きな精度向上をもたらすことが示されました。医療分野では、複数の情報を統合して診断に至る臨床推論のプロセスと親和性が高く、鑑別診断や治療方針の検討に特に有効です。

## 基本的な構造

CoTプロンプトには主に2つのアプローチがあります。

### 1. ゼロショットCoT（最もシンプル）

```text
[タスクの指示]
ステップバイステップで考えてください。
```

「ステップバイステップで考えてください」の一文を追加するだけで、モデルは自然と推論過程を展開します。

### 2. 構造化CoT（より制御された出力）

```text
以下の症例を分析してください。以下のステップに従って考えてください。

ステップ1: 主訴と現病歴から重要な情報を抽出する
ステップ2: バイタルサインと身体所見を評価する
ステップ3: 鑑別診断をリストアップする
ステップ4: 各診断の可能性を臨床所見と照合して評価する
ステップ5: 最も可能性の高い診断と追加検査を提示する

症例: [症例情報]
```

## 具体例：なぜ推論過程が重要か

### CoTなしの場合

```text
Q: 72歳女性、2日前からの発熱と意識レベル低下。最も考えられる診断は？
A: 髄膜炎
```

### CoTありの場合

```text
Q: 72歳女性、2日前からの発熱と意識レベル低下。
   ステップバイステップで鑑別診断を考えてください。

A: 段階的に考えます。

ステップ1: 重要な臨床情報の整理
- 72歳女性（高齢者）
- 2日前からの急性経過
- 発熱 + 意識レベル低下の組み合わせ

ステップ2: 「発熱 + 意識障害」の鑑別
この組み合わせで最も重要な疾患群は：
- 中枢神経感染症（細菌性髄膜炎、脳炎）
- 敗血症に伴う意識障害
- 尿路感染症（高齢者では意識変容を呈しやすい）

ステップ3: 年齢を考慮した評価
高齢者では非典型的なプレゼンテーションが多い：
- 肺炎でも咳嗽が目立たず、意識障害のみの場合がある
- UTIも典型的な排尿時痛がなく、せん妄として発症することがある

ステップ4: 緊急度の評価
見逃してはいけない疾患：細菌性髄膜炎
→ 髄膜刺激徴候の確認、腰椎穿刺の適応を早急に検討
```

CoTにより、なぜその診断に至ったかの根拠が明確になり、思考の漏れを発見しやすくなります。

## 医療での活用例

### シナリオ

多様な症状を持つ患者が救急外来に来院し、複数の鑑別診断が考えられる状況です。限られた情報から最も可能性の高い診断を導くため、AIに推論過程を段階的に示させたいと考えています。

### プロンプト例

```text
以下の患者情報と症例をもとに、ステップバイステップで
鑑別診断を行ってください。

各ステップで以下を含めてください：
- 考慮すべき臨床所見
- そこから得られる推論
- 次のステップで確認すべきこと

最終的に最も可能性の高い診断とその根拠を示し、
必要な追加検査も提案してください。

患者: 45歳男性
主訴: 3日前からの持続する腹痛
バイタル: 体温37.2°C、血圧100/60mmHg、脈拍110/分
所見: 心窩部から右下腹部にかけての圧痛、軽度の筋性防御
血液検査: WBC 15,000、CRP 12.5
```

## メリットとデメリット

### メリット

- **推論精度の大幅な向上**: 特に複雑な問題で効果が顕著
- **思考過程の可視化**: AIがどのように結論に至ったかを確認できる
- **エラーの発見が容易**: 推論の途中で誤りを見つけて修正できる
- **教育的価値**: 研修医の臨床推論トレーニングに活用できる

### デメリット

- **トークン消費が大きい**: 推論過程の分だけ出力が長くなる
- **時間がかかる**: 回答生成に時間を要する
- **過剰な推論**: 単純な問題でも冗長な推論を展開する場合がある

## いつ使うべきか

- 複数の情報を統合した臨床推論が必要な場合
- 鑑別診断の漏れを防ぎたい場合
- AIの判断根拠を確認したい場合
- 研修医への教育や症例検討の補助として活用する場合
