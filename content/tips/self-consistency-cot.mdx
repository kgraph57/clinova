---
title: "自己一貫性CoT"
description: "複数のCoT推論パスを生成し、最も一貫性のあるものを選択"
category: "ai-fundamentals"
contentType: "tip"
difficulty: "advanced"
tags: ["上級テクニック", "高度プロンプティング"]
publishedAt: "2026-02-14"
featured: false
---

# 自己一貫性CoT

## このテクニックとは

自己一貫性CoT（Self-Consistency Chain-of-Thought）は、同じ問題に対してAIに複数の独立した思考の連鎖（Chain of Thought）を生成させ、それぞれの推論パスで導かれた結論を比較し、最も多く一致する結論、あるいは最も論理的に一貫した結論を採用する手法です。単一の推論では偶発的な誤りが生じることがありますが、複数の独立した経路で同じ結論に到達した場合、その信頼性は大幅に高まります。

通常のCoTプロンプティングが「一つの詳細な推論プロセス」を引き出すのに対し、自己一貫性CoTは「複数の推論プロセス」を意図的に生成させます。医療診断の文脈では、「症状から始める推論」「検査値から始める推論」「既往歴から始める推論」のように、出発点や重視する情報を変えながら複数の推論パスを辿ることで、どの経路でも共通する診断や方針が「より確実な答え」として浮かび上がってきます。

このテクニックは特に「正解が一つとは限らない」臨床的な意思決定場面で有効です。複数の推論パスで異なる結論が出た場合、その差異が不確実性のある部分を示しており、追加検査や専門家への相談が必要なポイントを特定するのにも役立ちます。

## 基本的な使い方

```text
以下の症例について、3つの異なる推論パスで独立して診断を行ってください。

【症例】
[患者情報・症例情報]

【推論パス1: 症状・主訴中心のアプローチ】
主訴と身体症状の組み合わせから鑑別診断を考え、最も可能性の高い診断をステップバイステップで導いてください。

【推論パス2: 検査値・客観データ中心のアプローチ】
血液検査・画像所見など客観的データから診断を考え、最も可能性の高い診断をステップバイステップで導いてください。

【推論パス3: 疫学・リスク因子中心のアプローチ】
患者属性（年齢・性別・既往歴・生活習慣）のリスクプロファイルから診断を考え、最も可能性の高い診断をステップバイステップで導いてください。

【一貫性の評価】
3つの推論パスで一致した診断は何か？不一致の部分は何を示しているか？最終的な診断と根拠を示してください。
```

シンプルな2パス比較：

```text
以下の治療選択について、2つの視点から独立して推論し、結論を比較してください。

【問い】
[例: この患者に抗生物質を開始すべきか、経過観察すべきか]

視点A: ベネフィット優先（治療の恩恵を最大化する立場から）
→ Step by Stepで推論し、結論を出してください。

視点B: リスク回避優先（有害事象・不必要な治療を避ける立場から）
→ Step by Stepで推論し、結論を出してください。

両視点の結論が一致している場合: それが推奨される方針
両視点の結論が異なる場合: 不一致の原因を分析し、どちらの視点をより重視すべきかの根拠を示してください。
```

## 医療での活用例

### シナリオ

重篤な症状を訴える患者が緊急に搬送され、複数の鑑別診断が考えられる状況です。迅速かつ正確な診断が求められ、医師はAIの支援を受けて最も合理的な診断と治療方針を導き出す必要があります。

### プロンプト例

```text
以下の[患者情報]と[症例情報]をもとに、複数の診断推論パスをステップバイステップで展開してください。各推論パスごとに、症状、検査結果、既往歴を考慮し、最も一貫性のある診断を選択する理由を明確に示してください。最後に、最も論理的かつ臨床的に妥当な診断と治療方針を提案してください。自己一貫性を保つために、複数の診断推論を比較検討した結果を必ず記述してください。

【患者情報】
38歳女性、主訴: 突然発症の激しい頭痛（「今まで経験したことがない」）+ 嘔吐
既往: 偏頭痛（月2〜3回）、内服薬なし
バイタル: BP 142/88、HR 96、体温 37.2℃、SpO2 99%
神経学的所見: 項部硬直なし、眼症状なし、意識清明

推論パス1（偏頭痛既往重視のアプローチ）
推論パス2（突然発症・性状重視のアプローチ）
推論パス3（バイタル・年齢・リスク因子のアプローチ）
統合評価: 3パスの比較と最終判断
```

## いつ使うべきか

- 生死に関わる緊急症例で診断の信頼性を最大化したいとき（くも膜下出血、肺塞栓、大動脈解離など）
- 診断が絞り込めず、複数の鑑別が拮抗しているとき
- 治療方針に迷いがあり、異なる論理的アプローチからも同じ結論が得られるか確認したいとき
- AIの単一の回答を「本当に正しいか」検証したいとき
- 症例検討会・症例報告で、診断根拠の多角的な裏付けを示したいとき
