---
title: "自己一貫性"
description: "複数の推論パスを生成し、最も一貫性のある回答を選択"
category: "ai-fundamentals"
contentType: "tip"
difficulty: "intermediate"
tags: ["品質向上", "プロンプト改善"]
publishedAt: "2026-02-14"
featured: false
---

# 自己一貫性

## このテクニックとは

自己一貫性（Self-Consistency）は、AIに同じ問題を複数の異なる角度から考えさせ、各推論の結論を比較することで最も信頼性の高い答えを特定する手法です。AIの回答は確率的であるため、一度の推論で偶発的な誤りが生じることがあります。同じ問いに対して複数回・複数の方法で推論させ、共通して導かれる結論を「より確実な答え」として採用することで、単発の回答より信頼性を高められます。

自己一貫性CoTが「Chain of Thought（詳細な思考の連鎖）」を明示的に複数生成するのに対し、シンプルな自己一貫性は「同じ質問を言い方を変えて3回問い、多数決を取る」というよりアクセスしやすい形で実践できます。また「A→B→C」という推論の整合性をチェックする、つまり途中の論理に矛盾がないか確認するという使い方でも機能します。

医療の文脈では、「この薬は安全か」「この患者に手術適応はあるか」のような二択・多択の判断に活用できます。同じ情報を提示して異なる視点（医学的・倫理的・実用的）から問うことで、判断の偏りを検出し、より均衡の取れた意思決定を支援します。

## 基本的な使い方

```text
以下の問いに、3つの独立した視点から回答してください。

【症例/問い】
[患者情報または医療上の判断問題]

回答A: [視点1: 例 —急性期管理の優先度から]
→ 結論: [A/B/C のいずれか、または判断内容]

回答B: [視点2: 例 —長期予後・合併症リスクから]
→ 結論: [A/B/C のいずれか、または判断内容]

回答C: [視点3: 例 —患者の価値観・QOLから]
→ 結論: [A/B/C のいずれか、または判断内容]

【一貫性チェック】
3つの回答で一致している部分と矛盾している部分を整理してください。
最も一貫性のある結論と、その根拠を示してください。
```

推論の矛盾を検出するテンプレート：

```text
以下の推論に論理的な矛盾がないか確認してください。

【提示された推論】
前提1: [例: この患者の腎機能はeGFR 35で中等度低下している]
前提2: [例: 第一選択薬はメトホルミンである]
結論: [例: したがって、メトホルミン500mgを開始する]

以下を評価してください:
1. 前提1と前提2の間に矛盾はあるか（メトホルミンとeGFR 35の関係）
2. 前提から結論は論理的に導けるか
3. 矛盾がある場合、修正すべき点は何か
```

## 医療での活用例

### シナリオ

急性の胸痛を訴える患者が来院し、心電図や血液検査の結果も得られたが、診断が複数の可能性に分かれている。医師は最適な治療方針を決定するために、AIの診断支援を活用し、複数の推論を比較検討したいと考えている。

### プロンプト例

```text
以下の[患者情報]と[症例情報]をもとに、3つの異なる推論経路で診断を行ってください。各推論では、根拠となる臨床所見や検査結果を具体的に示し、ステップバイステップで診断理由を説明してください。その後、各推論の一貫性を比較し、最も論理的かつ一貫性のある診断結果を選択し、その選択理由を詳述してください。なお、専門的な医学用語を用いてください。

【患者情報】
58歳男性、主訴: 安静時胸痛（締め付け感）30分持続
既往: 高血圧・脂質異常症、喫煙歴あり
心電図: II、III、aVFでST上昇1mm、V1-V4でST変化なし
血液検査: トロポニンI 0.08（基準値 <0.04）、CK-MB 正常範囲内

推論経路1: 12誘導心電図の変化を起点とする推論
推論経路2: トロポニン上昇のパターンを起点とする推論
推論経路3: 患者背景（年齢・リスク因子）を起点とする推論

3経路の比較と最終診断
```

## いつ使うべきか

- 診断が複数に絞り込まれ、どちらをより重視すべきか迷っているとき
- 重要な臨床判断（治療開始・手術適応など）でAIの初回回答を検証したいとき
- 推薦された治療方針の論理的整合性をチェックしたいとき
- 複数の参照情報が相互矛盾しているように感じたとき
- 研修医の診断推論の論理矛盾を指摘するための参考資料として活用したいとき
