---
title: "階層的推論"
description: "抽象度の異なるレベルで分析を行う"
category: "ai-fundamentals"
contentType: "tip"
difficulty: "advanced"
tags: ["上級テクニック", "高度プロンプティング"]
publishedAt: "2026-02-14"
featured: false
---

# 階層的推論

## このテクニックとは

階層的推論（Hierarchical Reasoning）とは、問題や現象を「抽象度の異なる複数のレベル」に整理し、各レベルで分析を実施したうえで、レベル間の関係性を統合する推論手法です。コンピュータサイエンスにおける階層型アーキテクチャや、認知心理学における「スキーマ理論」と理論的親和性があります。「大きなパターンを把握してから細部に降りる」トップダウンアプローチと、「細部を積み上げて全体像を構築する」ボトムアップアプローチを、階層構造の中で統合します。

医療における階層的推論は、診断の精度向上に直接寄与します。熟練した医師は症例を見るとき、「この患者のカテゴリーは何か（年齢層・性別・主訴のパターン）」→「この疾患グループのどれか（臓器系統別の分類）」→「この疾患のどのサブタイプか」というトップダウンの階層的絞り込みを自然に行っています。この思考過程をAIに明示的に実行させることで、系統的な鑑別診断の漏れを防ぎます。

病態生理の教育においても、分子レベル→細胞レベル→臓器レベル→個体レベル→集団レベルという階層を意識することは、知識の統合的理解に不可欠です。プロンプトで「階層的に分析してください」と指示することで、AIはこの多レベルの構造的分析を展開します。

## 基本的な使い方

分析の階層（レベル）をあらかじめ定義し、各レベルでの分析を順番に行うよう指示します。階層間の「橋渡し」（あるレベルの理解が次のレベルにどう影響するか）を明示させることが深い分析につながります。

### パターン1: トップダウンの鑑別診断絞り込み

```text
以下の症例を、階層的鑑別診断の枠組みで分析してください。

症例: [患者情報・症状・所見]

階層的絞り込みの手順:
Level 1（大カテゴリー）: この症例は急性/慢性、感染性/非感染性、臓器系統（心臓/肺/消化器/神経など）のどのカテゴリーか
Level 2（中カテゴリー）: そのカテゴリーの中でどの疾患グループが最も可能性が高いか
Level 3（小カテゴリー）: その疾患グループの中でどの具体的疾患が最も当てはまるか
Level 4（確認）: Level 3の診断を支持/否定する所見の確認と追加検査の提案

各レベルで「次のレベルに進む判断の根拠」を明示してください。
```

### パターン2: 病態生理の階層分析

```text
以下の[疾患/病態]について、複数の分析レベルで階層的に説明してください。

対象: [疾患名や病態]

各レベルでの説明:
- 分子・細胞レベル: どのような分子メカニズムが関与しているか
- 臓器・組織レベル: 各臓器でどのような変化が起きているか
- 個体レベル: 患者の症状・身体所見・検査値としてどう現れるか
- 治療へのインプリケーション: 各レベルへの介入がどのような効果をもたらすか

各レベルから次のレベルへの「翻訳」を明示し、統合的な理解を示してください。
```

### パターン3: 意思決定の階層的構造化

```text
以下の臨床的意思決定を、階層的に構造化してください。

意思決定: [治療方針の決定や診療計画]

階層構造:
- 戦略レベル（何を達成するか）: 治療目標・最終的なアウトカム
- 戦術レベル（どのアプローチをとるか）: 治療戦略の大枠
- 実装レベル（具体的に何をするか）: 具体的な薬剤・処置・指示

各レベルの選択の根拠と、上位レベルとの整合性を説明してください。
```

## 医療での活用例

### シナリオ

救急外来で複雑な症例の診断を迫られている医師が、患者の多様な症状と検査結果をもとに体系的に疾患の可能性を絞り込みたい。複数の鑑別診断を階層的に評価し、最適な検査や治療方針を決定しようとしている状況。

### プロンプト例

```text
以下の症例を、階層的推論の枠組みで体系的に分析してください。
大カテゴリーから始まり、段階的に絞り込みを行ってください。

症例:
- 45歳女性、既往なし
- 主訴: 3週間の労作時呼吸困難と両下腿浮腫
- バイタル: BP 122/78mmHg、HR 102、SpO2 93%（室内気）
- 身体所見: 両側肺底部のcrackles、右 > 左の胸水
- 血液検査: BNP 280pg/mL、D-dimer 2.8μg/mL、CRP 3.2mg/dL

階層的鑑別診断:
Level 1: 「呼吸困難 + 浮腫」の主要カテゴリー分類（心原性/肺性/その他）
Level 2: 最も可能性の高いカテゴリーでの疾患グループ特定
Level 3: 具体的な疾患名と確率評価
Level 4: 診断確定のための追加検査と優先順位

各レベルで判断の根拠と、次のレベルに絞り込む理由を明示してください。
```

## いつ使うべきか

- 鑑別診断が多く、系統的に絞り込む枠組みが必要な場合
- 病態生理を分子から個体レベルまで統合的に理解・説明したい場合
- 複雑な治療計画を「目標→戦略→具体的行動」という階層で整理したい場合
- 研修医への教育で「どの順序で考えればよいか」という思考の枠組みを示したい場合
- 情報が多すぎて整理が難しい複雑な症例を構造化したい場合
